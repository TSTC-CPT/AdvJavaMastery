<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <title>Lab Assessment</title>
    <meta charset="UTF-8">    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


</head>
<body>

    <div id="title">
        Swing Packaging Lab
    </div>
        <main>
       <p>Java 17 includes a packaging tool for your programs so users can install them on their PC. To package a program in a Windows installer first install the <a class=info target=_blank href=https://wixtoolset.org/releases>wix toolkit.<span>opens in new window</span></a> </p>
            
        <div class=unselectable>
 
            <img title = "wix binary file" src="images/wixbinary.png">
            <p>Add the Wix Toolkit bin folder to the system path.</p>
             <img title = "wix path in environment variables" src="images/wixpath.png">
            <p>To use the packaging tool open the command prompt and navigate to your project folder. Enter the following command for a list of packaging options:</p>
            </div>
            
            <code>&emsp;jpackage -h</code>
            <div class=unselectable>
            <p>The most basic installer can be built with the following command: (replace Demo with the name of your jar file.)</p>
            </div>
            <code>&emsp;jpackage --input dist --main-jar Demo.jar --type exe</code>
            <div class=unselectable>
            <p>The installer will appear in the project folder as an .exe file.</p>
            Video demonstration
            <iframe width="100%" height="600" src="https://www.youtube-nocookie.com/embed/kPI4eSvMTec" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            <p>The jpackage tool does not come with a GUI but one can be implemented with Java Swing. Write a swing program that allows the user to create an installer for their Java program. This program will allow the user to fillout or select the following options:</p>
            <ul>
                <li>Select the jar file to be packaged. Use the JFileChooser. </li>
                <li>Select an icon for the program. Use the JfileChooser and show the icon name after it is selected.</li>
                <li>A checkbox to allow the end-user (one who installs the program) to select the path for installation.</li>
                <li>A checkbox to create a desktop shortcut (default selected)</li>
                <li>A checkbox to create a start menu shortcut (default not selected)</li>
                <li>A JTextField to enter the version number</li>
                <li>A JTextArea to write a description for the program</li>
                <li>A name for the application</li>
                <li>A place to enter the vendor’s name</li>
                <li>A place to enter a copyright for the application</li>
            </ul>
            <p>Arrange the components neatly in a single window. Use a custom color scheme for your packaging tool. There are some example color schemes here: <a target=_blank class=info href = https://coolors.co>https://coolors.co<span>opens in new window</span></a> Change the icon to a custom image that represents your application. Label all inputs. Provide a JLabel that indicates the status of the packaging operation so the user knows when the package is complete. Examples values may be “standing by”, “packaging...” and “complete”. Use try/catch blocks to prevent your program from crashing if the user enters bad or incomplete information.</p>
            <p>System commands can be executed in Windows using:</p>
            </div>
            <code><pre>    String s = “Command string”;<br>    Runtime.getRuntime().exec(s); </pre></code>
            <div class="unselectable">
            <p>To view the results of the executed process, an InputStream must be read from the process. Here is some example code you can use:</p>
            </div>
                <code><pre>
                try {  
                    String s = "jpackage --input dist --main-jar Demo.jar --type exe"; 
                    Process p = Runtime.getRuntime().exec(s);   
                    BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));
                    String line = "";
                    while ((line = in.readLine()) != null) {              
                            System.out.println(line); 
                            }
                    p.waitFor(); //blocks the thread until the process is done.    
                    System.out.println("Done waiting"); 
                    } 
                    catch (Exception x) {
                        x.printStackTrace();
                        }
                </pre>
                
                </code>
            <div class=unselectable>
                <p>Practice using the jpackage tool from the command prompt until you are comfortable with it before trying to implement it in your swing app. Test your program thoroughly with different option combinations. Only submit your Netbeans project, do not submit any installers.  </p>
            <p>Submission rules:<br>
                Your project’s name must include your name, example: JohnDoeExam1<br>You must use the Java naming convention.<br>Turn in your work as a zipped Netbeans project.            
            </p>
                
        </div>
        
    </main>
</body>
</html>
